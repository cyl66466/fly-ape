<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>公司</title>
    <link rel="shortcut icon" href="images/pagelogo.png"/>
    <link rel="stylesheet" href="css/company.css">
    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/company.js"></script>

    <!-- vue组件 -->
    <link rel="stylesheet" href="component/company/company.css">
    <link rel="stylesheet" href="component/nav/nav.css">
    <link rel="stylesheet" href="component/company-items/company-items.css">

    <script src="js/vue.js"></script>
    <script src="js/vue-resource.js"></script>
    <script src="component/company/company.js"></script>
    <script src="js/clientStorge.js"></script>

</head>
<body>
      <template id="toptitle">
        <div id="title">
                <div id="title-content">
                    <div id="title-left">
                        <span><a href="index.html" id="nav-logo"><img src="images/app_phone.png">飞猿APP</a></span>
                        <span><a href="index.html" id="nav-a">| &nbsp;进入企业版</a></span>
                    </div>
                    <div id="title-right" v-if="isLogin">
                        <span><a href="login.html">登陆</a></span>
                        <span><a href="login.html">| 注册</a></span>
                    </div>
                    <div id="title-right" v-else>
                        <span><a href="#">消息</a></span>
                        <span><a href="showResume.html">| 我的简历</a></span>
                        <span><a href="#">| 投递箱</a></span>
                        <span><a href="#">| 收藏夹</a></span>
                        <span class="titleuser">
                            <a href="#">| {{usename}}</a>
                            <ul>
                                <li>|</li>
                                <li>我的订阅</li>
                                <li>职位邀请</li>
                                <li>账号设置</li>
                                <li @click="quit">退出</li>
                            </ul>
                        </span>
                    </div>
                </div>
        </div>
    </template>

<div id="app">
    <div id="airport"></div><!-- 小火箭 -->
     <!-- top 模板 -->
    <toptitle></toptitle>

    <div id="menu">
        <div id="menu-content">
            <div id="menu-logo">
                <img src="images/logo.png" alt="">
            </div>
            <ul>
                    <li><a href="index.html" target="_self">首页</a></li>
                    <li><a href="company.html">公司</a></li>
                    <li><a href="campaus.html"  target="_self">校园</a></li>
                    <li><a href="community.html"  target="_self">言职</a></li>
            </ul>            
        </div>
    </div>
    <div id="banner">
        <h3>什么值得投</h3>
        <div id="banner-content">
            <span id="banner-left"><img src="images/zuo.png"></span>
            <span id="banner-right"><img src="images/you.png"></span>
            <div class="it-content">
                <ul class="it-list">
                    <li>
                        <div class="panel">
                            <img src="images/ban1.jpg" alt="">
                            <span>直挂云帆济沧海</span>
                        </div>
                        <div class="shade">
                            <span>致力打造新一代的动态CDN平台</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/17</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban2.jpg" alt="">
                            <span>热爱科技追求极致</span>
                        </div>
                        <div class="shade">
                            <span>致力于机器人领域研究、追求极致工艺和用户体验、坚持创新原则的初创公司</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/16</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban3.png" alt="">
                            <span>所有演出一网打尽</span>
                        </div>
                        <div class="shade">
                            <span>一群互联网文娱行业的小伙伴致力于将摩天轮票务网打造成互联网时代的演出售票平台</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/15</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban4.png" alt="">
                            <span>乃写的不是代码是天朝ACG成长历</span>
                        </div>
                        <div class="shade">
                            <span>秉持“技术宅拯救世界”的使命，致力于成为世界一流的二次元文化创意企业</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/14</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban5.jpg" alt="">
                            <span>全国首家互联网汽车网站</span>
                        </div>
                        <div class="shade">
                            <span>移动社区+UGC避堵、全球最大的移动车主社区媒体</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/13</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban6.jpg" alt="">
                            <span>员工与客户是公司最重要的资产</span>
                        </div>
                        <div class="shade">
                            <span>新蛋科技（成都）有限公司座落于中国成都天府大道天府软件园A区6号楼5层</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/12</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban7.png" alt="">
                            <span>用科技改变金融，做大数据风控领导</span>
                        </div>
                        <div class="shade">
                            <span>专注于为银行、三方支付、P2P、小贷、保险、电商等客户解决线上风险和欺诈问题</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/11</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban8.jpg" alt="">
                            <span>人性化时间管理，享有家人生日陪</span>
                        </div>
                        <div class="shade">
                            <span>打造一个惠及大众的大健康生态圈，满足购药、咨询、就医服务、健康监测等综合需求</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/10</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban9.jpg" alt="">
                            <span>智能物联产品与运营云平台</span>
                        </div>
                        <div class="shade">
                            <span>国家认证的双软企业、密码产品单位及优秀的ICP服务商</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/9</div>
                    </li>
                    <li>
                        <div class="panel">
                            <img src="images/ban10.jpg" alt="">
                            <span>中国领先的自由行服务平台</span>
                        </div>
                        <div class="shade">
                            <span>站在自由行消费者的角度，帮助用户作出最佳的旅游消费决策</span>
                            <a href="#">进入公司主页</a>
                        </div>
                        <div class="time">08/08</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div id="screen">
       <!--  <div id="screen-place" class="screen-ppd">
            <span>公司地点 :&nbsp;</span>
            <ul id="screenUl1">
            </ul>
            <h5 id="place-more">更多</h5>
            <ul id="screenUl2">
            </ul>
        </div>
        <div id="screen-phase" class="screen-ppd" >
            <span>融资阶段 :&nbsp;</span>
            <ul>
                <li><a href="">不限</a></li>
                <li><a href="">未融资</a></li>
                <li><a href="">天使轮</a></li>
                <li><a href="">A轮</a></li>
                <li><a href="">B轮</a></li>
                <li><a href="">C轮</a></li>
                <li><a href="">D轮及以上</a></li>
                <li><a href="">上市公司</a></li>
                <li><a href="">不需要融资</a></li>
            </ul>
        </div>
        <div id="screen-domain" class="screen-ppd">
            <span>行业领域 :&nbsp;</span>
            <ul id="screenUl3">
                <li><a href="">不限</a></li>
                <li><a href="">移动互联网</a></li>
                <li><a href="">电子商务</a></li>
                <li><a href="">金融</a></li>
                <li><a href="">企业服务</a></li>
                <li><a href="">教育</a></li>
                <li><a href="">文化娱乐</a></li>
                <li><a href="">游戏</a></li>
                <li><a href="">O2O</a></li>
                <li><a href="">硬件</a></li>
            </ul>
            <h5 id="domain-more">更多</h5>
            <ul id="screenUl4">
                <li><a href="">医疗健康</a></li>
                <li><a href="">生活服务</a></li>
                <li><a href="">广告营销</a></li>
                <li><a href="">旅游</a></li>
                <li><a href="">数据服务</a></li>
                <li><a href="">社交活动</a></li>
                <li><a href="">分类信息</a></li>
                <li><a href="">信息安全</a></li>
                <li><a href="">招聘</a></li>
                <li><a href="">其他</a></li>
            </ul>
        </div> -->
        <sortitem @show="refresh"></sortitem>

    </div>
    


     <!-- vue组件    -->
  
    <company :searchitem="searchitem" ref="childMethod"></company>


    <div id="footer">
        <div id="content-footer">
            <img class="img" src="images/CgpFT1lDioCAFqS2AAEeWsD3HHo535.PNG" alt="">
            <img class="img" src="images/CgpEMllDipeAFlPXAABWmQdg7-E520.PNG" alt="">
            <img class="img" src="images/lagou-mina-code_0885df6.png" alt="">
            <img src="images/footer_lagou_icon_29db89e.png" alt="">
            <a class="footer-link">飞猿app<img src="images/new_v1_534bcc8.png"></img></a>
            <a class="footer-link" href="#">飞猿微信</a>
            <a class="footer-link" href="#">飞猿小程序</a>
            <a href="#">飞猿微博</a>
            <a href="#">帮助中心</a>
            <a href="#">联系我们</a>
            <a href="#">招聘解决方案</a>
            <span>服务热线：4006-2828-35 (9:00 -18:00)</span>
            <p>安全联盟  ©2017 Lagou 京ICP备14023790号-2 京公网安备 11010802024043号</p>
        </div>
    </div>
</div>
        

        <!-- 排序组件 -->
    <template id="companysort">
        <div class="companysort">
            <span>排序方式:</span>
            <ul v-for="(temp,index) in sortItem">           
                <li v-text="temp" @click="changetp(index)" :class="{cpActive:index==curItem}"></li>
            </ul>
        </div>
    </template>  
    <script>
        var companysort=Vue.extend({
            template:"#companysort",
            data:function(){
                return {
                    sortItem:['默认排序↓','职位数量↓','面试评价数↓'],
                    sortIndex:['id','onlineJob','faceIns','sucPencent'],
                    curItem:0,
                };
            },
            created:function(){

            },
            methods:{
                changetp:function(index){
                    this.curItem=index;
                    // console.log(this.sortIndex[index]);
                    this.$emit('changetp',this.sortIndex[index])
                }
            }
        })
    </script>

    <!-- 分页组件 -->
    <template id="page">
        <div class="page">
            <button  @click="changePage(pageConfig.curIndex-1)" :disabled="pageConfig.curIndex==1">上一页</button>
            <ul>
                <li @click="changePage(1)"  :class="{liactive:pageConfig.curIndex==1}" v-show="pages>1">1</li>
                <span v-show="pageConfig.curIndex>=5">...</span>
                <li v-for="i in pages" v-text="i" @click="changePage(i)" v-show="i!=1&&i<pageConfig.curIndex+3&&i>pageConfig.curIndex-2&&i!=pages" :class="{liactive:i==pageConfig.curIndex}"></li>
                <span v-show="pageConfig.curIndex<=pages-4">...</span>
                <li v-text="pages" @click="changePage(pages)" :class="{liactive:pageConfig.curIndex==pages}"></li>
            </ul>
            <button @click="changePage(pageConfig.curIndex+1)" :disabled="pageConfig.curIndex==pages">下一页</button>
        </div>
    </template>

    <script>
        var page=Vue.extend({
            template:"#page",
            props:['pageConfig'],
            methods:{
                changePage:function(index){             
                    index>this.pageConfig.pageGroupIndex*this.pageConfig.pageSize?
                    this.pageConfig.pageGroupIndex++:
                    this.pageConfig.curIndex=index;
                    this.$emit("change-page");
                }
            },
            computed:{
                pages:function(){
                    return Math.ceil(this.pageConfig.total/this.pageConfig.pageSize)
                }           
            },
        })
    </script>

    <!-- company组件 -->
    <template id="company">
        <div class="companyMain">
            <companysort @changetp="changeP"></companysort>
            <div v-for="item in companys" class="company">
                <ul>
                    <li><img :src='item.img'  alt=""></li>
                    <li v-text="item.name" class="companyName"></li>
                    <li v-text="item.type" class="companyType"></li>
                    <li v-text="item.introduce" class="companyIntroduce"></li>
                    <li class="underLine"></li>
                    <li class="companyPencent">
                        <ul>
                            <li>
                                <p v-text="item.faceIns"></p>
                                <p class="gray">面试评价</p>
                            </li>
                            <li>
                                <p v-text="item.onlineJob"></p>
                                <p class="gray">在招职位</p>
                            </li>
                            <li>
                                <p v-text="item.sucPencent"></p>
                                <p class="gray">简历处理率</p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <page :page-config="pageConfig" @change-page="changePage"></page>
        </div>
    </template>

    <script src="component/nav/nav.js"></script>
    <script src="component/company-items/company-items.js"></script>
    <script src="component/company/company.js"></script>
    

        <!-- 筛选公司 -->
    <template id="sortitem">
        <div class="sortitem screen-ppd" >
            <div v-for="i in items.length">
                <label v-text="menus[i-1]"></label>
                <!-- 数据太长时出现展开 -->
                <span class="moreItem" @click="moreItem(i-1)" v-if="items[i-1].isMore" v-show="items[i-1][sortmenu[i-1]].length>10">展开</span>
                <span class="moreItem" @click="lessItem(i-1)" v-else>收起</span>
                <ul v-for="(item,indexs) in items[i-1]" v-show="indexs==sortmenu[i-1]">
                    <li v-for="(ii,index) in item"  @click="show(index,ii,items[i-1],indexs)"  v-show='index<=items[i-1].liShow'>
                        <p v-text="ii" :class="{itemActive:index==items[i-1].liActive}"></p>
                    </li>
                </ul>
            </div>
            <div class="empty">&nbsp</div>
        </div>
    </template>
<script>
    var vm=new Vue({
        el:"#app",
        components:{company:company,toptitle:toptitle,sortitem:sortitem},
        data:{
            searchitem:{},
        },
        methods:{
            refresh:function(target){
                this.searchitem=target;
                // console.log(this.searchitem);
                var type="id";
                this.$refs.childMethod.changeP("id");  //父亲调用儿子
            }
        }
    })
</script>
</body>
</html>